{% extends "core/skeleton.html" %}

{% block content %}

<div class="mt-0 mb-3 d-flex justify-content-end">
  <div class="dropdown">
    <a class="btn btn-sm dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      řazení
    </a>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item{% if sort_options.last_name_az.active %} active{% endif %}" href="{{ sort_options.last_name_az.url }}">příjmení A→Z</a>
      <a class="dropdown-item{% if sort_options.last_name_za.active %} active{% endif %}" href="{{ sort_options.last_name_za.url }}">příjmení Z→A</a>
      <a class="dropdown-item{% if sort_options.total_reports.active %} active{% endif %}" href="{{ sort_options.total_reports.url }}">přidal kontaktů</a>
    </div>
  </div>

  {% include "core/pagination_snippet.html" %}
</div>

<div class="row justify-content-md-center">
  <div class="col-md-5">
  {% if authors %}
    <table class="table table-bordered table-sm">
      <thead>
        <tr>
          <th scope="col">jméno</th>
          <th scope="col">příjmení</th>
          <th scope="col">přidal kontaktů</th>
        </tr>
      </thead>
      <tbody>
      {% for author in authors %}
      <tr>
        <td><a href="{% url 'author' id=author.id %}">{{ author.firstName }}</a></td>
        <td>
          <a href="{% url 'author' id=author.id %}">{{ author.lastName }}</a>
          {% include "core/name_collision_snippet.html" %}
        </td>
        <td><a href="{% url 'author' id=author.id %}">{{ author.totalReports }}</a></td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-center mb-4">Nenalezen žádný autor.</p>
  {% endif %}
  </div>
</div>

<div class="my-4 d-flex justify-content-end">
  {% include "core/pagination_snippet.html" %}
</div>

{% endblock %}
